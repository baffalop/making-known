{"version":3,"file":"index-legacy.f1346c63.js","sources":["../../vite/modulepreload-polyfill","../../src/types.ts","../../src/Menu.svelte","../../src/Timeline.svelte","../../src/Credits.svelte","../../src/transition.ts","../../src/Player.svelte","../../src/App.svelte","../../src/index.ts"],"sourcesContent":["const p = function polyfill() {\n    const relList = document.createElement('link').relList;\n    if (relList && relList.supports && relList.supports('modulepreload')) {\n        return;\n    }\n    for (const link of document.querySelectorAll('link[rel=\"modulepreload\"]')) {\n        processPreload(link);\n    }\n    new MutationObserver((mutations) => {\n        for (const mutation of mutations) {\n            if (mutation.type !== 'childList') {\n                continue;\n            }\n            for (const node of mutation.addedNodes) {\n                if (node.tagName === 'LINK' && node.rel === 'modulepreload')\n                    processPreload(node);\n            }\n        }\n    }).observe(document, { childList: true, subtree: true });\n    function getFetchOpts(script) {\n        const fetchOpts = {};\n        if (script.integrity)\n            fetchOpts.integrity = script.integrity;\n        if (script.referrerpolicy)\n            fetchOpts.referrerPolicy = script.referrerpolicy;\n        if (script.crossorigin === 'use-credentials')\n            fetchOpts.credentials = 'include';\n        else if (script.crossorigin === 'anonymous')\n            fetchOpts.credentials = 'omit';\n        else\n            fetchOpts.credentials = 'same-origin';\n        return fetchOpts;\n    }\n    function processPreload(link) {\n        if (link.ep)\n            // ep marker = processed\n            return;\n        link.ep = true;\n        // prepopulate the load record\n        const fetchOpts = getFetchOpts(link);\n        fetch(link.href, fetchOpts);\n    }\n};__VITE_IS_MODERN__&&p();","export enum Piece {\n  Jane = 'jane',\n  Dianna = 'dianna',\n  Paul = 'paul',\n}\n\nexport function titleFor (piece: Piece): string {\n  switch (piece) {\n    case Piece.Jane: return 'Dear Jane'\n    case Piece.Dianna: return 'Dear Dianna'\n    case Piece.Paul: return 'Dear Paul'\n  }\n}\n","<script lang=\"ts\">\nimport { createEventDispatcher } from 'svelte'\nimport { Piece, titleFor } from './types'\n\nconst dispatch = createEventDispatcher()\n\nfunction select () {\n  dispatch('select')\n}\n</script>\n\n<ul>\n  {#each [Piece.Jane, Piece.Dianna, Piece.Paul] as piece, i}\n    <li style=\"--i: {i}\">\n      <h4>{i + 1}</h4>\n\n      <a class=\"button\" href=\"#{piece}\" on:click={select}>\n        <img src=\"img/item-{piece}.png\" alt={titleFor(piece)} class={piece} />\n      </a>\n    </li>\n  {/each}\n</ul>\n\n<style>\nul {\n  list-style: none;\n  line-height: 1.5em;\n}\n\nh4 {\n  font-style: italic;\n  font-weight: normal;\n  font-size: 1.5em;\n  margin-bottom: 0.4em;\n  margin-left: calc((var(--i) - 1) * 0.8em + 0.4em);\n}\n\nimg {\n  height: 2.5em;\n}\n\n.jane {\n  margin-left: -1.4em;\n  height: 2.8em;\n}\n\n.dianna {\n  margin-left: -0.8em;\n  height: 3.1em;\n}\n\n.paul {\n  margin-top: -0.2em;\n  margin-left: 0.6em;\n  height: 2.9em;\n}\n</style>\n","<script lang=\"ts\">\nexport let progress = 0\nexport let playing = false\n\nlet width = 600\n\n$: resolution = 8 + Math.floor(width / 25)\n$: blips = genBlips(resolution, progress)\n\ninterface Blip {\n  lit: boolean\n  big: boolean\n}\n\nfunction genBlips (resolution: number, progress: number): Blip[] {\n  const playPosition = Math.floor(progress * resolution)\n\n  return range(resolution).map(i => ({\n    lit: i <= playPosition,\n    big: playing && i == playPosition,\n  }))\n}\n\nfunction range (n: number): number[] {\n  return [...Array(n).keys()]\n}\n</script>\n\n<div class=\"timeline\" bind:clientWidth={width}>\n  {#each blips as { lit, big }, i (i)}\n    <div class=\"blip\" class:lit class:big></div>\n  {/each}\n</div>\n\n<style>\n.timeline {\n  transform: rotate(-5deg);\n  height: 30px;\n  width: 12em;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.blip {\n  border-radius: 100%;\n  height: 5px;\n  width: 5px;\n  background-color: #676c71e0;\n  transition-property: background-color, height, width;\n  transition-duration: 300ms;\n  transition-timing-function: ease-out;\n}\n\n.blip.lit {\n  background-color: #e9e9cbcc;\n}\n\n.blip.big {\n  height: 9px;\n  width: 9px;\n}\n</style>\n","<script lang=\"ts\">\nimport { Piece } from './types'\n\nexport let piece: Piece\n</script>\n\n{#if piece === Piece.Jane}\n  <h4>Narration</h4>\n  <p>Benny Nemer, Shea Lime, Timothy Rainey II</p>\n\n  <h4>Choral</h4>\n  <p>St. Olaf Chamber Singers, directed by Therees Tkach Hibbard</p>\n  <p>Jayden Browne, Michael Caraher, Logan Combs, Marisabel Cordova, Ruby Erickson, Alexander Famous, Roan Findley, Caroline Flaten, Sean Griswold, Daniel Haakenson, Noah Han, Cully Hauck, Nicholas Hinson, Maren Hrivnak, Sara Jensen, Aidan Kocur, Chris Kopits, Shae Lime, Austin Meyer, Will McIntyre, Annika Seager, Anna Seppa, Sarah Shapiro, Maddie Smoot, Julia Walter, Lacy Williams, Hermione Yim.</p>\n\n  <h4>Sound Design</h4>\n  <p>Johannes Malfatti</p>\n\n  <h4>Narration Recording</h4>\n  <p>Julien Creus (Paris), Douglas Hamilton (Northfield)</p>\n\n  <h4>Boe Chapel Choral Recording</h4>\n  <p>Jeffrey O’Donnell and Joshua Wyatt</p>\n\n{:else if piece === Piece.Dianna}\n  <h4>Narration</h4>\n  <p>Benny Nemer, Shae Lime, Timothy Rainey II</p>\n\n  <h4>Interview</h4>\n  <p>Dianna Clise</p>\n\n  <h4>Sound Design</h4>\n  <p>Johannes Malfatti</p>\n\n  <h4>Narration Recording</h4>\n  <p>Julien Creus (Paris), Douglas Hamilton (Northfield)</p>\n\n  <h4>Interview Recording</h4>\n  <p>Jim Loveland and Tyler Thomas</p>\n\n{:else if piece === Piece.Paul}\n  <h4>Narration</h4>\n  <p>Benny Nemer, Shea Lime, Timothy Rainey II</p>\n\n  <h4>Choral</h4>\n  <p>St. Olaf Chamber Singers, directed by Therees Tkach Hibbard</p>\n  <p>Jayden Browne, Michael Caraher, Logan Combs, Marisabel Cordova, Ruby Erickson, Alexander Famous, Roan Findley, Caroline Flaten, Sean Griswold, Daniel Haakenson, Noah Han, Cully Hauck, Nicholas Hinson, Maren Hrivnak, Sara Jensen, Aidan Kocur, Chris Kopits, Shae Lime, Austin Meyer, Will McIntyre, Annika Seager, Anna Seppa, Sarah Shapiro, Maddie Smoot, Julia Walter, Lacy Williams, Hermione Yim.</p>\n\n  <h4>Sound Design</h4>\n  <p>Johannes Malfatti</p>\n\n  <h4>Narration Recording</h4>\n  <p>Julien Creus (Paris), Douglas Hamilton (Northfield)</p>\n\n  <h4>Boe Chapel Choral Recording</h4>\n  <p>Jeffrey O’Donnell and Joshua Wyatt</p>\n\n  <p><em>Speech on the Occasion of Receiving the Literature Prize of the Free Hanseatic City of Bremen</em>, Paul Celan, 1958. \tTranslation John Felstiner, Selected Poems and Prose of Paul Celan, New York, W. W. Norton, 2000.</p>\n  <p><em>Blume</em>, Paul Celan, 1959. Translation Michael Hamburger, Poems of Paul Celan, New York, Persea, 1988.</p>\n  <p><em>Sprich auch du</em>, Paul Celan, 1955. Translation John Felstiner, Selected Poems and Prose of Paul Celan, New York, W. W. Norton, 2000.</p>\n{/if}\n\n<style>\n* {\n  text-align: center;\n}\n\nh4 {\n  font-style: italic;\n  font-weight: normal;\n  font-size: 1em;\n  line-height: 1.4em;\n  margin-block-end: 0;\n}\n\nh4 + p {\n  margin-block-start: 0;\n}\n</style>\n","import { cubicOut } from 'svelte/easing'\n\nexport interface TransitionParams {\n  reference: number\n  delay?: number\n  duration?: number\n  easing?: (t: number) => number\n}\n\nexport function fadeAndScale (node: HTMLElement, { reference, ...params }: TransitionParams) {\n  const target = parseFloat(getComputedStyle(node).height.replace('px', ''))\n  const difference = target - reference\n\n  return {\n    delay: params.delay || 0,\n    duration: params.duration || 400,\n    easing: params.easing || cubicOut,\n    css: (t: number, u: number) => {\n      const height = reference + (difference * t)\n      return `opacity: ${t}; height: ${height}px;`\n    }\n  }\n}\n\nexport function ondestroy (node: HTMLElement, callback: () => any) {\n  return { destroy: callback }\n}\n","<script lang=\"ts\">\nimport { fade } from 'svelte/transition'\nimport { cubicInOut, quartInOut } from 'svelte/easing'\n\nimport { Piece, titleFor } from './types'\nimport Timeline from './Timeline.svelte'\nimport Credits from './Credits.svelte'\nimport { fadeAndScale, ondestroy } from './transition'\n\nconst skipInterval = 10 // seconds\nconst saveTimeIntervalDuration = 2000 // ms\nconst saveTimeOffset = 5 // seconds\n\nexport let piece: Piece\nexport let isInView: boolean\n\nlet viewingCredits = false\n\n// to handle the case of reselecting the same piece from the menu\nexport function select (): void {\n  viewingCredits = false\n}\n\nlet currentTime = 0\nlet paused = true\nlet duration = 0\nlet waiting = false\n\n$: playing = !paused\n$: progress = duration == 0 ? 0 : (retrievedTime ?? currentTime) / duration\n\n// when retrieving play position from localStorage, we can't assign it\n// directly to currentTime as it gets overwritten on first play.\n// set it here then move the value to currentTime on play (via assignRetrievedTime)\nlet retrievedTime: number|null = null\nlet timeUpdateInterval: number|null = null\n\n// on change of piece\n$: {\n  retrievedTime = retrievePlayPosition(piece)\n  paused = true\n  viewingCredits = false\n  setMediaSession(piece)\n}\n\n$: {\n  if (playing) {\n    assignRetrievedTime()\n    startTimeUpdate()\n  } else {\n    stopTimeUpdate()\n    storePlayPosition()\n  }\n}\n\n// properties for the fadeAndScale transition\nlet ui: HTMLElement\nlet uiHeight: number\n$: if (ui) uiHeight = parseFloat(getComputedStyle(ui).height.replace('px', ''))\nlet suspendCredits = true\n$: if (!viewingCredits) suspendCredits = true\nlet suspendUi = false\n$: if (viewingCredits) suspendUi = true\n\nconst creditsFadeInDuration = 800\n$: creditsFadeOutDuration = isInView ? 600 : 0\n$: uiFadeDuration = isInView ? 300 : 0\n\nfunction togglePlay (): void {\n  paused = !paused\n}\n\nfunction ffw (): void {\n  currentTime += skipInterval\n  storePlayPosition()\n}\n\nfunction rew (): void {\n  currentTime -= skipInterval\n  storePlayPosition()\n}\n\nfunction onEnded (): void {\n  window.setTimeout(() => viewingCredits = true, 1000)\n}\n\nfunction storePlayPosition (): void {\n  const timeToSave = Math.max(currentTime - saveTimeOffset, 0)\n  window.localStorage.setItem(piece, timeToSave.toString())\n}\n\nfunction retrievePlayPosition(piece: Piece): number|null {\n  const parsed = parseFloat(window.localStorage.getItem(piece))\n  return isNaN(parsed) ? null : parsed\n}\n\nfunction startTimeUpdate (): void {\n  timeUpdateInterval = window.setInterval(storePlayPosition, saveTimeIntervalDuration)\n}\n\nfunction stopTimeUpdate(): void {\n  if (timeUpdateInterval) {\n    window.clearInterval(timeUpdateInterval)\n    timeUpdateInterval = null\n  }\n}\n\nfunction assignRetrievedTime (): void {\n  if (retrievedTime !== null) {\n    currentTime = retrievedTime\n    retrievedTime = null\n  }\n}\n\nfunction setMediaSession (piece: Piece) {\n  if ('mediaSession' in navigator) {\n    navigator.mediaSession.metadata = new MediaMetadata({\n      title: titleFor(piece),\n      album: 'The Making Known',\n      artwork: [96, 128, 192, 256, 384, 512].map(size => {\n        const sizes = `${size}x${size}`\n        return {\n          src: `img/album-art/album-${piece}-${sizes}.jpeg`,\n          sizes,\n          type: 'image/jpeg',\n        }\n      })\n    })\n  }\n}\n</script>\n\n<audio\n  src=\"audio/{piece}.mp3\"\n  bind:currentTime\n  bind:paused\n  bind:duration\n  on:waiting={() => waiting = true}\n  on:canplay={() => waiting = false}\n  on:ended={onEnded}\n></audio>\n\n<img\n  src=\"img/title-{piece}.png\"\n  alt={titleFor(piece)}\n  class=\"title\"\n  on:click={() => viewingCredits = !viewingCredits}\n/>\n\n{#if !viewingCredits}\n  <div\n    class:absolute={suspendUi}\n    bind:this={ui}\n    in:fade={{ duration: uiFadeDuration, delay: creditsFadeOutDuration }}\n    out:fade={{ duration: uiFadeDuration }}\n    use:ondestroy={() => suspendCredits = false}\n  >\n    <Timeline {progress} {playing}/>\n\n    <div class=\"controls\">\n      <button class=\"rew\" on:click={rew} title=\"rewind\"></button>\n      <button class=\"play-pause\" class:playing class:waiting on:click={togglePlay} title={playing ? 'Pause' : 'Play'}></button>\n      <button class=\"ffw\" on:click={ffw} title=\"fast forward\"></button>\n    </div>\n  </div>\n{:else}\n  <div\n    class=\"text condensed\"\n    class:absolute={suspendCredits}\n    in:fadeAndScale={{ reference: uiHeight, delay: uiFadeDuration, duration: creditsFadeInDuration, easing: quartInOut }}\n    out:fadeAndScale={{ reference: uiHeight, duration: creditsFadeOutDuration, easing: cubicInOut }}\n    use:ondestroy={() => suspendUi = false}\n  >\n    <Credits {piece} />\n  </div>\n{/if}\n\n<style>\n.controls {\n  margin-top: 1em;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  width: 12.5em;\n}\n\n.title {\n  height: 7em;\n  cursor: pointer;\n  margin-bottom: 0.7em;\n}\n\n.text.condensed {\n  height: 60%;\n  will-change: opacity, height;\n}\n\n.absolute {\n  position: absolute;\n}\n\nbutton.play-pause {\n  width: 8em;\n  height: 2.5em;\n  background-image: url(/img/play-pause.png);\n  background-size: 100% auto;\n}\n\nbutton.play-pause.playing {\n  background-position: 50% 100%;\n}\n\n.play-pause.playing.waiting {\n  animation: throb 2.3s infinite;\n}\n\n@keyframes throb {\n  0%   { opacity: 1.0; }\n  50%  { opacity: 0.0; }\n  100% { opacity: 1.0; }\n}\n\nbutton.ffw {\n  background-image: url(/img/ffw.png);\n  margin-bottom: 0.7em;\n}\n\nbutton.rew {\n  background-image: url(/img/rew.png);\n  margin-top: 0.7em;\n}\n\nbutton.ffw, button.rew {\n  opacity: 0.85;\n}\n\nbutton.ffw:active, button.rew:active {\n  opacity: 0.4;\n}\n</style>\n","<script lang=\"ts\">\nimport { onMount } from 'svelte'\nimport { fade } from 'svelte/transition'\nimport { quartInOut } from 'svelte/easing'\nimport { animateScroll } from 'svelte-scrollto-element'\nimport IntersectionObserver from 'svelte-intersection-observer'\nimport sniffer from 'snifferjs'\n\nimport { Piece } from './types'\nimport Menu from './Menu.svelte'\nimport Player from './Player.svelte'\n\nconst introScrollWaitTime = 2000\nconst autoScrollSpeedSlow = 1400\n\nconst navigatedPiece: Piece|null = pieceFromHash()\n\nconst sniffed = sniffer(navigator.userAgent)\nconst isLegacySafari = (sniffed.os.name === 'ios' && sniffed.os.majorVersion < 15)\n  || (sniffed.browser.name === 'safari' && sniffed.browser.majorVersion < 15)\n\nlet currentPiece: Piece = navigatedPiece || Piece.Jane\n\nlet loaded = false\nlet itsTimeToScrollToIntro = false\nlet userHasScrolled = false\nlet autoscrolling = false\nlet viewIsOnSlide = true\n\nlet carousel: HTMLElement\nlet titleSlide: HTMLElement\nlet introSlide: HTMLElement\nlet menuSlide: HTMLElement\nlet playerSlide: HTMLElement\nlet creditsSlide: HTMLElement\nlet player: HTMLElement & { select: () => void }\n\nlet slides = []\nlet viewingSlide: HTMLElement|null\n$: viewingPlayer = playerSlide && viewingSlide === playerSlide\n$: arrowsAreViewable = viewIsOnSlide && !autoscrolling && viewingSlide != null\n\nlet scrollTarget: HTMLElement|null = null\n\nonMount(() => {\n  slides = [titleSlide, introSlide, menuSlide, playerSlide, creditsSlide]\n  viewingSlide = titleSlide\n  window.setTimeout(() => itsTimeToScrollToIntro = true, introScrollWaitTime)\n})\n\nwindow.onload = () => loaded = true\n$: if (loaded && itsTimeToScrollToIntro) introScroll()\n\nfunction introScroll () {\n  if (userHasScrolled) {\n    return\n  }\n\n  if (navigatedPiece !== null) {\n    scrollTo(playerSlide, { duration: autoScrollSpeedSlow })\n  } else {\n    scrollTo(introSlide, { duration: autoScrollSpeedSlow })\n  }\n}\n\nfunction pieceFromHash(): Piece|null {\n  switch (window.location.hash) {\n    case '#jane': return Piece.Jane\n    case '#dianna': return Piece.Dianna\n    case '#paul': return Piece.Paul\n    default: return null\n  }\n}\n\nwindow.addEventListener('hashchange', () => {\n  currentPiece = pieceFromHash() || Piece.Jane\n})\n\nfunction scrollTo (target: HTMLElement, { duration = 800, delay = 0 } = {}) {\n  scrollTarget = target\n  autoscrolling = true\n\n  const action = () => animateScroll.scrollTo({\n    container: carousel,\n    element: target,\n    duration,\n    easing: quartInOut,\n    scrollX: true,\n    scrollY: false,\n    onDone: () => {\n      scrollTarget = null\n      autoscrolling = false\n    },\n  })\n\n  if (delay) {\n    window.setTimeout(action, delay)\n  } else {\n    window.requestAnimationFrame(action)\n  }\n}\n\nfunction forward () {\n  navigate(1)\n}\n\nfunction back () {\n  navigate(-1)\n}\n\nfunction navigate (i: number) {\n  if (viewingSlide === null) {\n    return\n  }\n\n  const slideIndex = slides.indexOf(viewingSlide)\n  const target = slides[slideIndex + i]\n\n  if (target != null) {\n    scrollTo(target)\n  }\n}\n\nfunction onKeydown (e: KeyboardEvent) {\n  if (e.key === 'ArrowLeft') {\n    e.preventDefault()\n    back()\n  } else if (e.key === 'ArrowRight') {\n    e.preventDefault()\n    forward()\n  }\n}\n\nfunction handleSelect () {\n  player.select()\n  scrollTo(playerSlide, { delay: 150 })\n}\n\nfunction onSlideChange (slide: HTMLElement, { detail: { isIntersecting } }: { detail: IntersectionObserverEntry }) {\n  if (!userHasScrolled && slide !== titleSlide) {\n    return\n  }\n\n  viewIsOnSlide = isIntersecting\n\n  if (!isIntersecting) {\n    userHasScrolled = true\n  }\n}\n</script>\n\n<main class=\"carousel horizontal\" class:snap={!autoscrolling || isLegacySafari} bind:this={carousel}>\n  <header class=\"centred slide\" bind:this={titleSlide}>\n    <img class=\"title\" src=\"img/title.png\" alt=\"The Making Known\" />\n  </header>\n\n  <div class=\"centred slide\" bind:this={introSlide}>\n    <div class=\"text\">\n      <p>\n        This is a narrated encounter with posters designed by the Nazi German government to\n        communicate with the occupied nations of Belgium, France, and Luxembourg during the\n        Second World War. The posters are part of the Tetlie Collection of WWII Propaganda\n        Posters at the Flaten Art Museum at St Olaf College in Northfield, Minnesota.\n      </p>\n\n      <p>\n        The encounter takes form through three audio letters written by the artist to individuals of\n        relevance to the preservation and interpretation of the posters and their twenty-first century\n        meaning: a curator, a paper conservator, and a poet. Each letter lasts between fifteen and\n        twenty minutes.\n      </p>\n\n      <p>\n        Please put on your headphones, turn off the ringer of your device, and when you are\n        ready, proceed to the menu to select one of the audio letters of <em>The Making Known</em>.\n      </p>\n\n      <p class=\"centred\">\n        <button class=\"arrow right inline\" on:click={() => scrollTo(menuSlide)} title=\"forward\"></button>\n      </p>\n    </div>\n  </div>\n\n  <div class=\"centred slide\" bind:this={menuSlide}>\n    <Menu on:select={handleSelect} />\n  </div>\n\n  <div class=\"centred slide\" bind:this={playerSlide}>\n    <Player piece={currentPiece} bind:this={player} />\n  </div>\n\n  <div class=\"centred slide\" bind:this={creditsSlide}>\n    <div class=\"text\">\n      <p>\n        <em>The Making Known</em> was written and created by <a href=\"https://nemer.be\" target=\"_blank\">Benny Nemer</a>\n        to accompany a scenography of flowers, paper mobiles, and a selection of posters from the Tetlie\n        Collection, exhibited in a solo exhibition at the Flaten Art Museum at St Olaf College in the\n        winter of 2022. The project was commissioned by museum Director and Curator Jane\n        Becker Nelson with financial support from Institute of Museum and Library Services.\n        Website programming by Nikita Gaidakov.\n      </p>\n    </div>\n  </div>\n\n  <div class=\"background default\" class:show={[titleSlide, introSlide, creditsSlide, null].includes(viewingSlide)}></div>\n  <div class=\"background jane\" class:show={viewingPlayer && currentPiece === Piece.Jane}></div>\n  <div class=\"background dianna\" class:show={viewingPlayer && currentPiece === Piece.Dianna}></div>\n  <div class=\"background paul\" class:show={viewingPlayer && currentPiece === Piece.Paul}></div>\n</main>\n\n{#each slides as slide}\n  <IntersectionObserver root={carousel} element={slide} threshold={0.96} on:observe={e => onSlideChange(slide, e)} />\n  <IntersectionObserver root={carousel} element={slide} threshold={0.8} on:intersect={() => viewingSlide = slide} />\n{/each}\n\n{#if arrowsAreViewable && [menuSlide, playerSlide, creditsSlide].includes(viewingSlide)}\n  <button class=\"arrow left side\" on:click={back} title=\"back\" in:fade={{ duration: 400 }} out:fade={{ duration: 150 }}></button>\n{/if}\n\n{#if arrowsAreViewable && [introSlide, playerSlide].includes(viewingSlide)}\n  <button class=\"arrow right side\" on:click={forward} title=\"forward\" in:fade={{ duration: 400 }} out:fade={{ duration: 150 }}></button>\n{/if}\n\n<svelte:body on:keydown={onKeydown} />\n\n<style>\n.carousel {\n  height: 100%;\n  width: 100%;\n  overflow: auto;\n  display: flex;\n}\n\n.carousel.horizontal {\n  scroll-snap-type: x mandatory;\n  flex-direction: row;\n}\n\n.centred {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n}\n\n.slide {\n  flex: none;\n  height: 100%;\n  width: 100%;\n}\n\n.carousel.snap > .slide {\n  scroll-snap-stop: always;\n  scroll-snap-align: center;\n}\n\n.title {\n  max-height: 70%;\n  max-width: 90%;\n}\n\n.background {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: -1;\n  background-size: cover;\n\n  opacity: 0;\n  transition: opacity 300ms ease-out;\n  will-change: opacity;\n}\n\n.background.show {\n  opacity: 1;\n}\n\n.background.default {\n  background-image: url(/img/bg-main.jpeg);\n  background-position: 95% 75%;\n}\n\n.background.jane {\n  background-image: url(/img/bg-jane.jpeg);\n  background-position: 32% 0;\n}\n\n.background.dianna {\n  background-image: url(/img/bg-dianna.jpeg);\n  background-position: 80% 80%;\n}\n\n.background.paul {\n  background-image: url(/img/bg-paul.jpeg);\n  background-position: 0 0;\n}\n\nbutton.arrow {\n  width: 5em;\n}\n\nbutton.arrow.left {\n  background-image: url(/img/back.png);\n}\n\nbutton.arrow.right {\n  background-image: url(/img/forward.png);\n}\n\nbutton.inline {\n  margin-top: 0.6em;\n}\n\n.arrow.side {\n  position: absolute;\n  bottom: 12%;\n  --margin: calc(10%);\n}\n\n@media (max-width: 1000px) {\n  .arrow.side {\n    display: none;\n  }\n}\n\n@media (min-width: 1000px) {\n  .arrow.inline {\n    display: none;\n  }\n}\n\n.arrow.side.left {\n  left: var(--margin);\n}\n\n.arrow.side.right {\n  right: var(--margin);\n}\n</style>\n","import App from './App.svelte'\n\nvar app = new App({\n  target: document.body,\n})\n\nexport default app\n\n// Hot Module Replacement (HMR) - Remove this snippet to remove HMR.\n// Learn more: https://www.snowpack.dev/concepts/hot-module-replacement\nif (import.meta.hot) {\n  import.meta.hot.accept()\n  import.meta.hot.dispose(() => {\n    app.$destroy()\n  })\n}\n"],"names":["Piece","Piece2","piece","ctx","titleFor","insert","append","Jane","Dianna","Paul","dispatch","createEventDispatcher","length","progress","playing","width","genBlips","resolution","n","playPosition","Math","floor","Array","keys","map","i","lit","big","blips","node","reference","params","difference","parseFloat","getComputedStyle","height","replace","delay","duration","easing","cubicOut","css","t","u","callback","destroy","creditsFadeInDuration","quartInOut","cubicInOut","isInView","viewingCredits","ui","uiHeight","currentTime","paused","waiting","retrievedTime","timeUpdateInterval","suspendCredits","suspendUi","storePlayPosition","timeToSave","max","window","localStorage","setItem","toString","parsed","getItem","isNaN","retrievePlayPosition","navigator","mediaSession","metadata","MediaMetadata","title","album","artwork","size","sizes","src","type","setMediaSession","setInterval","clearInterval","creditsFadeOutDuration","uiFadeDuration","setTimeout","includes","carousel","titleSlide","introSlide","menuSlide","playerSlide","creditsSlide","player","viewingSlide","navigatedPiece","pieceFromHash","sniffed","sniffer","userAgent","isLegacySafari","os","name","majorVersion","browser","currentPiece","loaded","itsTimeToScrollToIntro","userHasScrolled","autoscrolling","viewIsOnSlide","slides","location","hash","scrollTo","target","action","animateScroll","container","element","scrollX","scrollY","onDone","requestAnimationFrame","forward","navigate","back","slideIndex","indexOf","onSlideChange","slide","isIntersecting","detail","onMount","onload","addEventListener","viewingPlayer","arrowsAreViewable","e","key","preventDefault","select","document","body"],"mappings":"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"}